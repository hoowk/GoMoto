<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- ... (mantenha o head original sem alterações) ... -->
</head>
<body>
    <!-- ... (mantenha o HTML original) ... -->

    <script>
        // Conexão garantida com o restaurante
        const socket = io('https://gomoto-server.onrender.com', {
            query: {
                motoboyId: localStorage.getItem("motoboyId") || generateId(),
                restauranteId: "jap-sushi-01", // Fixo para Jap Sushi
                nome: localStorage.getItem("motoboyNome") || "Motoboy"
            }
        });

        function generateId() {
            const id = 'motoboy-' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem("motoboyId", id);
            return id;
        }

        // DEBUG
        socket.on('connect', () => {
            console.log("✅ Conectado ao servidor");
            socket.emit('motoboy-login', {
                motoboyId: localStorage.getItem("motoboyId"),
                restauranteId: "jap-sushi-01",
                nome: localStorage.getItem("motoboyNome")
            });
        });

        // ... (mantenha o resto do código original) ...
    </script>
</body>
</html>
